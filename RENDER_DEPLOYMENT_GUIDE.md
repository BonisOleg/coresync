# 🚀 CoreSync Deployment Guide for Render.com

## 📋 Pre-Deployment Checklist - 29.09.2025

### ✅ Files Created:
- `requirements.txt` - Optimized dependencies
- `build.sh` - Build script for Render
- `start.sh` - Start script with Gunicorn
- `render.yaml` - Render configuration
- `env_render_example.txt` - Environment variables template

### ⚙️ Django Settings Optimized:
- WhiteNoise middleware for static files
- Production security settings
- Render-specific ALLOWED_HOSTS
- Logging configuration
- Static files compression

---

## 🔧 Render.com Setup Steps

### 1. Create New Web Service on Render
1. Connect your GitHub repository
2. Select "Web Service"
3. Use these settings:
   - **Name**: `coresync-django`
   - **Runtime**: `Python 3`
   - **Build Command**: `./build.sh`
   - **Start Command**: `./start.sh`
   - **Plan**: Free (upgrade as needed)

### 2. Create PostgreSQL Database
1. Create new PostgreSQL database:
   - **Name**: `coresync-postgres`
   - **Plan**: Free
2. Copy the connection string for environment variables

### 3. Environment Variables Setup
Copy these variables to your Render dashboard:

```bash
# Required
DEBUG=False
SECRET_KEY=<generate-new-secret-key>
DATABASE_URL=<auto-generated-by-render-postgres>
RENDER_EXTERNAL_HOSTNAME=<your-app-name>.onrender.com

# Optional (configure as needed)
ALLOWED_HOSTS=localhost,127.0.0.1,<your-app-name>.onrender.com
CORS_ALLOWED_ORIGINS=https://your-frontend-domain.com

# Django Superuser (optional)
DJANGO_SUPERUSER_USERNAME=admin
DJANGO_SUPERUSER_EMAIL=admin@example.com
DJANGO_SUPERUSER_PASSWORD=secure-password
```

---

## 🛡️ Security Features Implemented

- ✅ HTTPS enforcement in production
- ✅ Secure headers (XSS, Content-Type, HSTS)
- ✅ CSRF protection
- ✅ Secure cookies
- ✅ Proxy SSL headers for Render

---

## 📁 Static Files & Favicon

- ✅ WhiteNoise configured for static file serving
- ✅ Static file compression enabled
- ✅ Favicon.png created from logo
- ✅ Collectstatic optimized for production

---

## 🗄️ Database Migrations

- ✅ Auto-migration in build script
- ✅ Safe migration handling
- ✅ PostgreSQL optimized settings

---

## 🚀 Deployment Process

1. **Push to GitHub**: All files are ready
2. **Create Render Services**: Web service + PostgreSQL
3. **Set Environment Variables**: Use the template above
4. **Deploy**: Should work on first try! 🎯

---

## 🔍 Troubleshooting

### If you get 502 errors:
1. Check Render logs for detailed error messages
2. Verify DATABASE_URL is set correctly
3. Ensure all environment variables are configured

### If static files don't load:
1. Check that `collectstatic` ran successfully in build logs
2. Verify WhiteNoise middleware is enabled
3. Check STATIC_ROOT and STATIC_URL settings

### If migrations fail:
1. Check database connection string
2. Verify PostgreSQL service is running
3. Check for any model conflicts

---

## 📞 Support

- Check Render dashboard logs for detailed error messages
- All configurations are optimized for 2025 best practices
- Favicon and static files are properly configured

**Ready to deploy! 🚀**
