{% extends 'dashboard/base_dashboard.html' %}
{% load static %}

{% block dashboard_content %}
<section class="privacy-section pt-0">
    <div class="container">
        <h2 class="privacy-title">My Membership</h2>
    </div>
</section>

<section class="privacy-section">
    <div class="container">
        <div class="dashboard-content-wide">
            <div class="membership-card membership-card--featured">
                <h3 class="membership-card-title mb-2">
                    {{ membership.plan.name|default:"Premium Tier" }}
                </h3>

                <div class="membership-price">
                    ${{ membership.plan.price|default:"700" }}<span class="membership-price-period">/month</span>
                </div>

                <div class="mt-2 mb-2">
                    <div class="info-row">
                        <span class="info-label">Member Since:</span>
                        <span class="info-value">{{
                            membership.start_date|default:"Jan 1, 2025" }}</span>
                    </div>
                    <div class="info-row">
                        <span class="info-label">Renewal Date:</span>
                        <span class="info-value">{{
                            membership.end_date|default:"Dec 31, 2025" }}</span>
                    </div>
                    <div class="info-row">
                        <span class="info-label">Days Remaining:</span>
                        <span class="info-value--large">{{
                            membership.days_remaining|default:"90" }}</span>
                    </div>
                </div>

                <div class="membership-benefits">
                    <li>Priority booking (2-3 months advance)</li>
                    <li>{{ membership.plan.discount_percentage|default:"35" }}% discount on all services</li>
                    <li>Free AI Massage Bed sessions</li>
                    <li>Birthday month perks</li>
                    <li>VIP customer support</li>
                </div>

                <button class="membership-cta-btn btn-primary-beige mt-2" data-href="/membership/">
                    View All Plans
                </button>
            </div>

            <div class="membership-card mt-2">
                <h3 class="membership-card-title mb-1">
                    Usage This Month
                </h3>

                <div class="progress-container">
                    <div class="progress-header">
                        <span>Services Used:</span>
                        <span class="info-value">{{ membership.services_used_this_month|default:"2" }} /
                            Unlimited</span>
                    </div>
                    <div class="progress-bar">
                        <div class="progress-fill"></div>
                    </div>
                </div>

                <div class="savings-text">
                    <p>Monthly savings: <span class="savings-amount">$245</span></p>
                </div>
            </div>
        </div>
    </div>
</section>
{% endblock %}